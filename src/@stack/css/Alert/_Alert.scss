//
//  MIT License
//
//  Copyright (c) 2021 GrowStocks
//
//  Permission is hereby granted, free of charge, to any person obtaining a copy
//  of this software and associated documentation files (the "Software"), to deal
//  in the Software without restriction, including without limitation the rights
//  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
//  copies of the Software, and to permit persons to whom the Software is
//  furnished to do so, subject to the following conditions:
//
//  The above copyright notice and this permission notice shall be included in all
//  copies or substantial portions of the Software.
//
//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
//  SOFTWARE.
//

@use '../mixins';
@use 'sass:map';
@use '../Typography/Typography' as typography;

@mixin render(
    $padding: 0.3rem 0.5rem,
    $border-radius: 0.3rem,
    $fill: var(--primary-light),
    $ink: var(--on-primary),
    $icon-ink: var(--on-primary),
    $border: none,
    $shape: default,
    $clip-size: none
) {

    $types: (
        'success': var(--success),
        'warning': var(--warning),
        'error': var(--error),
        'undefined': var(--undefined),
        'default': $fill
    );

    $inks: (
        'success': var(--on-success),
        'warning': var(--on-warning),
        'error': var(--on-error),
        'undefined': var(--on-undefined),
        'default': $ink
    );

    @each $type, $value in $types {

        $separator: '--';
        $color: map.get($inks, $type);

        @if($type == 'default') {
            $separator: '';
            $type: '';
        }

        // MANUAL VARIABLES
        $display: inline-block;

        .alert#{$separator}#{$type} {
            width: 100%;
            background-color: $value;

            @include mixins.shape($shape, $padding, $border-radius, $clip-size);

            color: $color;
            border: $border;

            .alert__icon {
                display: $display;
                font-size: typography.px-to-rem(24px);
                margin-right: 3px;

                @if $type == warning {
                    @include icon-ink($color);
                } @else {
                    @include icon-ink($icon-ink);
                }

                position: relative;
                top: 0.1rem;
            }

            .alert__text {
                display: $display;
                color: inherit;
                font-size: typography.px-to-rem(14px);

                position: relative;
                bottom: 0.34rem;
            }
        }
    }
}

// @API
@mixin fill($fill-value) {
    background-color: $fill-value;
}

@mixin ink($ink-value) {
    color: $ink-value;
}

@mixin icon-ink($icon-ink-value) {
    color: $icon-ink-value;
}

@mixin border($border-style, $shape) {
    border: $border-style;
    border-radius: $shape;
}

@mixin shape($clip-path) {
    clip-path: $clip-path;
}