//
//  MIT License
//
//  Copyright (c) 2021 GrowStocks
//
//  Permission is hereby granted, free of charge, to any person obtaining a copy
//  of this software and associated documentation files (the "Software"), to deal
//  in the Software without restriction, including without limitation the rights
//  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
//  copies of the Software, and to permit persons to whom the Software is
//  furnished to do so, subject to the following conditions:
//
//  The above copyright notice and this permission notice shall be included in all
//  copies or substantial portions of the Software.
//
//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
//  SOFTWARE.
//

@use '../mixins';
@use '../Typography' as typography;

@mixin render(
    $fill: var(--primary-light),
    $border-radius: 0.3rem,
    $padding: 5px 7px,
    $margin-bottom: 10px,
    $placement-x: flex-start,
    $arrow-fill: #fff,
    $outline: true
) {
    .search__filter {
        margin-bottom: $margin-bottom;
        display: flex;
        justify-content: $placement-x;

        .title-bar {
            margin-bottom: 0!important;
            width: 50%;
        }

        .search__filter__item {
            width: 170px;
            display: flex;
            position: relative;

            .search__filter__select {
                font-size: typography.px-to-rem(15px);
                width: 100%;
                padding: $padding;
                border-radius: $border-radius;
                cursor: pointer;
                appearance: none;

                border: 1px solid #{$fill};
                background-color: var(--transparent);

                @include mixins.prefix(transition, all 0.1s ease);

                &:hover,
                &:focus,
                &:focus-within {
                    background-color: $fill;

                    @if $outline == false {
                        outline: none;
                    }
                }

                option {
                    border: none;
                    font-size: typography.px-to-rem(15px);
                    max-width: 170px;
                    width: 100%;
                    padding: 8px 10px;
                    cursor: pointer;
                }
            }

            .search__filter__arrow {

                position: absolute;
                top: 0;
                right: 0;
                display: block;
                height: 100%;
                width: 1.5em;
                pointer-events: none;

                &::before, &::after {
                    content: "";
                    position: absolute;
                    width: 0;
                    height: 0;
                    left: 40%;
                    top: 35%;
                    transform: translate(-50%, -50%);
                }

                &::before {
                    --size: 0.3em;
                    border-left: var(--size) solid transparent;
                    border-right: var(--size) solid transparent;
                    border-top: var(--size) solid #{$arrow-fill};

                    top: 65%;
                }

                &::after {
                    --size: 0.3em;
                    border-left: var(--size) solid transparent;
                    border-right: var(--size) solid transparent;
                    border-bottom: var(--size) solid #{$arrow-fill};

                    bottom: 35%;
                }
            }

            .search__filter__label {
                padding: 5px;
            }
        }
    }
}